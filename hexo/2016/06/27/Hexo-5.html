<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="hello,every body!"><title>Hexo教程(五)-hexo-jacman主题首页优化 | troyCoder</title><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/5.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/grids-responsive-min.css"><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.1.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Hexo教程(五)-hexo-jacman主题首页优化</h1><a id="logo" href="/.">troyCoder</a><p class="description">爱生活爱编程，分享学习工作中的知识和见解！</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/history/"><i class="fa fa-history"> 历史</i></a><a href="/guestbook/"><i class="fa fa-comments"> 留言</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">Hexo教程(五)-hexo-jacman主题首页优化</h1><div class="post-meta">Jun 27, 2016<span> | </span><span class="category"><a href="/categories/hexo/">hexo</a></span><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> Hits</span></span></div><a data-thread-key="hexo/2016/06/27/Hexo-5.html" href="/hexo/2016/06/27/Hexo-5.html#comments" class="ds-thread-count"></a><div class="clear"><div id="toc" class="toc-article"><div class="toc-title">文章目录</div><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#前言："><span class="toc-number">1.</span> <span class="toc-text">前言：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#正文"><span class="toc-number">2.</span> <span class="toc-text">正文</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#首页头部优化"><span class="toc-number">2.1.</span> <span class="toc-text">首页头部优化</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#首页内容部分优化"><span class="toc-number">2.2.</span> <span class="toc-text">首页内容部分优化</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#首页文章列表的优化"><span class="toc-number">2.2.1.</span> <span class="toc-text">首页文章列表的优化</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#首页内容侧边栏优化"><span class="toc-number">2.2.2.</span> <span class="toc-text">首页内容侧边栏优化</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#首页footer优化"><span class="toc-number">2.3.</span> <span class="toc-text">首页footer优化</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#参考："><span class="toc-number">3.</span> <span class="toc-text">参考：</span></a></li></ol></div></div><div class="post-content"><h3 id="前言："><a href="#前言：" class="headerlink" title="前言："></a>前言：</h3><p>上一篇说到了hexo的博客被百度和google收录的方法，虽然搜索引擎是收录了，但是我在百度上搜索我文章的标题，还是没有搜索结果，结果只有首页一个。这个不知道是什么原因，有可能是百度索引量的问题，后续再观察，再折腾吧。下面来分享一下优化jacman主题，包括首页和文章页等，</p>
<h3 id="正文"><a href="#正文" class="headerlink" title="正文"></a>正文</h3><p>jacman主题优化之首页优化,顺序从上到下，从左到右进行优化</p>
<h4 id="首页头部优化"><a href="#首页头部优化" class="headerlink" title="首页头部优化"></a>首页头部优化</h4><p><img src="/images/hexo-5/header.png" alt="头部header"></p>
<p>1.修改网站文字描述，修改hexo(F:\Blog\hexo_config.yml)主配置文件_config.yml中的<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># Site 网站</span></div><div class="line">title: troylc博客                   <span class="comment">#网站标题</span></div><div class="line">subtitle: 爱生活爱编程，一起来进步吧！  <span class="comment">#网站副标题</span></div><div class="line">description:  hello,every body!         <span class="comment">#网站描述</span></div><div class="line">author: troylc                          <span class="comment">#您的名字 </span></div><div class="line">language: zh-CN                         <span class="comment">#网站使用的语言</span></div><div class="line">timezone:                               <span class="comment">#网站时区。Hexo 默认使用您电脑的时区</span></div></pre></td></tr></table></figure></p>
<p>2.修改文章URL结构<br>默认文章链结是以: <a href="http://xxx.com/2016/06/06/your-title/" target="_blank" rel="external">http://xxx.com/2016/06/06/your-title/</a> 的格式，末尾没有.html结尾有点动态页面的感觉，对搜索引擎能否收录也是个问题，于是，我改成了 <a href="http://xxx.com/hexo/2016/03/18/hello-world.html" target="_blank" rel="external">http://xxx.com/hexo/2016/03/18/hello-world.html</a> 这样的格式，具体方法是在 根目录(F:\Blog\hexo_config.yml)下的_config.yml文件里:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#permalink: :year/:month/:day/:title/</span></div><div class="line">permalink: :category/:year/:month/:day/:title.html</div></pre></td></tr></table></figure></p>
<p>3.开启URL目录映射<br>如果你的分类是中文的，在url中也会显示相应的中文，为了在URL尽量少出现中文，做以下修改，方法是在_config.yml 下:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"># Category &amp; Tag  分类和标签的设置</div><div class="line">default_category: uncategorized   #默认分类         </div><div class="line">category_map:                     #分类别名 category_map 是为了让url中尽量少出现中文，做的映射。如下配置</div><div class="line">    心得: experience</div><div class="line">#    生活: life</div><div class="line">#    其他: other</div><div class="line">tag_map:                          #标签别名</div></pre></td></tr></table></figure></p>
<p>其中, category_map，tag_map 是为了让url中尽量少出现中文，做的映射。<br>例如:<br>在文章开头，标柱目录为:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"> ---</div><div class="line">xxx: xxx</div><div class="line">categories: 心得</div><div class="line"> ---</div></pre></td></tr></table></figure></p>
<p>则在url中， 会变成: <a href="http://xxx.com/experience/year/month/day/xxx.html" target="_blank" rel="external">http://xxx.com/experience/year/month/day/xxx.html</a></p>
<p>4.修改网站小图标、博客logo,在jacman(F:\Blog\hexo\themes\jacman)主题目录下的配置文件_config.yml,找到以下配置,指定favicon，imglogo的图片位置，或者把原本对应位置下的图片名称不变，直接换成自己喜欢的图片<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#### Image</span></div><div class="line">imglogo:</div><div class="line">  <span class="built_in">enable</span>: <span class="literal">true</span>             <span class="comment">## display image logo true/false. 是否显示logo</span></div><div class="line">  src: img/logo.png        <span class="comment">## `.svg` and `.png` are recommended,please put image into the theme folder `/jacman/source/img`.</span></div><div class="line">favicon: img/favicon.ico   <span class="comment">## size:32px*32px,`.ico` is recommended,please put image into the theme folder `/jacman/source/img`.     </span></div><div class="line">apple_icon: img/jacman.jpg <span class="comment">## size:114px*114px,please put image into the theme folder `/jacman/source/img`.</span></div><div class="line">author_img: img/author.jpg <span class="comment">## size:220px*220px.display author avatar picture.if don't want to display,please don't set this.</span></div><div class="line">banner_img: <span class="comment">#img/banner.jpg ## size:1920px*200px+. Banner Picture</span></div><div class="line"><span class="comment">### Theme Color </span></div><div class="line">theme_color:          <span class="comment">##主题颜色</span></div><div class="line">    theme: <span class="string">'#2ca6cb'</span>    <span class="comment">##the defaut theme color is blue</span></div></pre></td></tr></table></figure></p>
<p>5.首页头部的菜单menu 默认没有启用 /tags 和 /categories 页面，如果需要启用请在博客目录下的(F:\Blog\hexo\source)source文件夹中分别建立tags和categories文件夹每个文件夹中分别包含一个index.md文件。内容为：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"> ---</div><div class="line">layout: tags (或categories)</div><div class="line">title: tags (或categories)</div><div class="line"> ---</div></pre></td></tr></table></figure></p>
<p>在jacman(F:\Blog\hexo\themes\jacman_config.yml)主题目录下的配置如下：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="comment">##### Menu</span></div><div class="line">menu:</div><div class="line">  home: /</div><div class="line">  categories: /categories</div><div class="line">  tags: /tags</div><div class="line">  archives: /archives</div><div class="line"><span class="comment">##  life: /life</span></div><div class="line"><span class="comment">##  about: /about</span></div><div class="line"><span class="comment">## you can create `tags` and `categories` folders in `../source`.</span></div><div class="line"><span class="comment">## And create a `index.md` file in each of them.</span></div><div class="line"><span class="comment">## set `front-matter`as</span></div><div class="line"><span class="comment">## layout: tags (or categories)</span></div><div class="line"><span class="comment">## title: tags (or categories)</span></div><div class="line"><span class="comment">## ---</span></div></pre></td></tr></table></figure></p>
<p>6.增加百度站内搜索-<a href="http://zn.baidu.com/cse/wiki/index?category_id=25" title="百度站内搜索-极速体验版本" target="_blank" rel="external">极速体验版本</a><br>在百度站内搜索-帮助中心-极速体验版中填空站内搜索代码，获取搜索展示代码，放在(F:\Blog\hexo\themes\jacman\layout_partial\header.ejs):<br><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&lt;% &#125; else if(theme.baidu_search.enable)&#123; %&gt;</div><div class="line">   &lt;form class="search" action="&lt;%- theme.baidu_search.site %&gt;" target="_blank"&gt;</div><div class="line">    &lt;label&gt;Search&lt;/label&gt;</div><div class="line">    &lt;input name="cc" type="hidden" value= &lt;%= theme.baidu_search.id %&gt; &gt;&lt;input type="text" name="q" size="30" placeholder="&lt;%= __('search') %&gt;"&gt;&lt;br&gt;</div><div class="line">  &lt;/form&gt;</div><div class="line">&lt;% &#125; else if(theme.swift_search.enable)&#123; %&gt;</div></pre></td></tr></table></figure></p>
<p>再修改F:\Blog\hexo\themes\jacman_config.yml文件中的百度搜索属性：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">baidu_search:     <span class="comment">## http://zn.baidu.com/  极速体验版本http://zn.baidu.com/cse/wiki/index?category_id=25</span></div><div class="line">  <span class="built_in">enable</span>: <span class="literal">true</span></div><div class="line">  id: troylc.cc  <span class="comment">## e.g. "troylc.cc"  for your baidu search webname</span></div><div class="line">  site: http://zhannei.baidu.com/cse/site  <span class="comment">## your can change to your site instead of the default site</span></div></pre></td></tr></table></figure></p>
<p>百度搜索极速检验版，需要百度搜索引擎收录你的网站，具体参考<a href="http://www.troylc.cc/hexo/2016/06/16/Hexo-4.html" title="搜索引擎收录网站">《Hexo教程(四)-hexo博客被搜索引擎收录》</a></p>
<h4 id="首页内容部分优化"><a href="#首页内容部分优化" class="headerlink" title="首页内容部分优化"></a>首页内容部分优化</h4><p><img src="/images/hexo-5/index-context.png" alt="内容部分优化"></p>
<h5 id="首页文章列表的优化"><a href="#首页文章列表的优化" class="headerlink" title="首页文章列表的优化"></a>首页文章列表的优化</h5><p>1.文章列表的展示方式，默认是全部展开，感觉展示文章全部内容比较没有吸引力，我关闭掉了，只展示少量摘要。修改\themes\jacman下面_config.yml中的expand改成false即可<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">index:</div><div class="line">  expand: <span class="literal">false</span>    <span class="comment">## default is unexpanding,so you can only see the short description of each post.</span></div><div class="line">  excerpt_link: Read More</div></pre></td></tr></table></figure></p>
<p>2.文章列表的展示形式，修改成列表模式，并在每一格列表的头显示标题，中间显示文章的摘要，尾显示发布时间，分类，标签，及评论数。修改F:\java\githubPages\Blog\hexo\themes\jacman\layout_partial\article.ejs文件中的以下部分：<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">section</span> <span class="attr">class</span>=<span class="string">"post"</span> <span class="attr">itemscope</span> <span class="attr">itemprop</span>=<span class="string">"blogitem"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> (<span class="attr">item.link</span>) &#123; %&gt;</span> </div><div class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"&lt;%- item.link %&gt;"</span> <span class="attr">target</span>=<span class="string">"_blank"</span>&gt;</span> </div><div class="line">  <span class="tag">&lt;<span class="name">%</span> &#125; <span class="attr">else</span>&#123; %&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"&lt;%- config.root %&gt;&lt;%- item.path %&gt;"</span> <span class="attr">title</span>=<span class="string">"&lt;%= item.title %&gt;"</span> <span class="attr">itemprop</span>=<span class="string">"url"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">h1</span> <span class="attr">itemprop</span>=<span class="string">"name"</span>&gt;</span><span class="tag">&lt;<span class="name">%=</span> <span class="attr">item.title</span> %&gt;</span><span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> (<span class="attr">desc</span>)&#123; %&gt;</span></div><div class="line">     <span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span>(<span class="attr">item.description</span>)&#123; %&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">p</span> <span class="attr">itemprop</span>=<span class="string">"description"</span> &gt;</span><span class="tag">&lt;<span class="name">%-</span> <span class="attr">item.description</span> %&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">%</span> &#125; <span class="attr">else</span> <span class="attr">if</span>(<span class="attr">item.excerpt</span>)&#123; %&gt;</span></div><div class="line">       <span class="tag">&lt;<span class="name">p</span> <span class="attr">itemprop</span>=<span class="string">"description"</span> &gt;</span><span class="tag">&lt;<span class="name">%=</span> <span class="attr">strip_html</span>(<span class="attr">item.excerpt</span>)<span class="attr">.replace</span>(/^\<span class="attr">s</span>*/, '')<span class="attr">.replace</span>(/\<span class="attr">s</span>*$/, '')<span class="attr">.substring</span>(<span class="attr">0</span>, <span class="attr">140</span>) %&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">%</span> &#125; <span class="attr">else</span> &#123;%&gt;</span></div><div class="line">           <span class="tag">&lt;<span class="name">p</span> <span class="attr">itemprop</span>=<span class="string">"description"</span> &gt;</span><span class="tag">&lt;<span class="name">%=</span> <span class="attr">strip_html</span>(<span class="attr">item.content</span>)<span class="attr">.replace</span>(/^\<span class="attr">s</span>*/, '')<span class="attr">.replace</span>(/\<span class="attr">s</span>*$/, '')<span class="attr">.substring</span>(<span class="attr">0</span>, <span class="attr">140</span>) %&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">time</span> <span class="attr">datetime</span>=<span class="string">"&lt;%= date_xml(item.date) %&gt;"</span> <span class="attr">itemprop</span>=<span class="string">"datePublished"</span>&gt;</span><span class="tag">&lt;<span class="name">%=</span> <span class="attr">item.date.format</span>(<span class="attr">config.date_format</span>) %&gt;</span><span class="tag">&lt;/<span class="name">time</span>&gt;</span>    </div><div class="line">  <span class="tag">&lt;/<span class="name">a</span>&gt;</span>            </div><div class="line"><span class="tag">&lt;/<span class="name">section</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>修改为：<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">article</span> <span class="attr">class</span>=<span class="string">"post-expand &lt;%= item.layout %&gt;"</span>" <span class="attr">itemprop</span>=<span class="string">"articleBody"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">%-</span> <span class="attr">partial</span>('<span class="attr">post</span>/<span class="attr">header-index</span>') %&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"padding: 0.5em 0.5em 0.5em 0.8em"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> (<span class="attr">item.link</span>) &#123; %&gt;</span> </div><div class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"&lt;%- item.link %&gt;"</span> <span class="attr">target</span>=<span class="string">"_blank"</span>&gt;</span> </div><div class="line">      <span class="tag">&lt;<span class="name">%</span> &#125; <span class="attr">else</span>&#123; %&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"&lt;%- config.root %&gt;&lt;%- item.path %&gt;"</span> <span class="attr">title</span>=<span class="string">"&lt;%= item.title %&gt;"</span> <span class="attr">itemprop</span>=<span class="string">"url"</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> (<span class="attr">desc</span>)&#123; %&gt;</span></div><div class="line">         <span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span>(<span class="attr">item.description</span>)&#123; %&gt;</span></div><div class="line">          <span class="tag">&lt;<span class="name">p</span> <span class="attr">itemprop</span>=<span class="string">"description"</span> &gt;</span><span class="tag">&lt;<span class="name">%-</span> <span class="attr">item.description</span> %&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">          <span class="tag">&lt;<span class="name">%</span> &#125; <span class="attr">else</span> <span class="attr">if</span>(<span class="attr">item.excerpt</span>)&#123; %&gt;</span></div><div class="line">           <span class="tag">&lt;<span class="name">p</span> <span class="attr">itemprop</span>=<span class="string">"description"</span> &gt;</span><span class="tag">&lt;<span class="name">%=</span> <span class="attr">strip_html</span>(<span class="attr">item.excerpt</span>)<span class="attr">.replace</span>(/^\<span class="attr">s</span>*/, '')<span class="attr">.replace</span>(/\<span class="attr">s</span>*$/, '')<span class="attr">.substring</span>(<span class="attr">0</span>, <span class="attr">240</span>) %&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">          <span class="tag">&lt;<span class="name">%</span> &#125; <span class="attr">else</span> &#123;%&gt;</span></div><div class="line">               <span class="tag">&lt;<span class="name">p</span> <span class="attr">itemprop</span>=<span class="string">"description"</span> &gt;</span><span class="tag">&lt;<span class="name">%=</span> <span class="attr">strip_html</span>(<span class="attr">item.content</span>)<span class="attr">.replace</span>(/^\<span class="attr">s</span>*/, '')<span class="attr">.replace</span>(/\<span class="attr">s</span>*$/, '')<span class="attr">.substring</span>(<span class="attr">0</span>, <span class="attr">240</span>) %&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line">   <span class="tag">&lt;/<span class="name">div</span>&gt;</span>    </div><div class="line"><span class="tag">&lt;<span class="name">%-</span> <span class="attr">partial</span>('<span class="attr">post</span>/<span class="attr">footer-index</span>', &#123;<span class="attr">index:</span> <span class="attr">true</span>&#125;) %&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">article</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>在当前目录下的post目录里增加三个文件catetags-index.ejs,footer-index.ejs,header-index.ejs<br>catetags-index.ejs 内容:<br><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line">&lt;div class="article-catetags"&gt;</div><div class="line">&lt;% if (item.categories &amp;&amp; item.categories.length)&#123; %&gt;</div><div class="line">&lt;div style="float: left;padding: 0.5em 0;margin-right: 3em;margin-top: 0.3em;"&gt;</div><div class="line">    &lt;time datetime="&lt;%= date_xml(item.date) %&gt;" itemprop="datePublished"&gt; &lt;%= __('datepublished') %&gt; &lt;%= item.date.format(config.date_format) %&gt;&lt;/time&gt;</div><div class="line">    By&lt;% if(theme.author.google_plus)&#123; %&gt;</div><div class="line">        &lt;a href="https://plus.google.com/&lt;%=theme.author.google_plus %&gt;?rel=author" title="&lt;%= config.author %&gt;" target="_blank" itemprop="author"&gt;&lt;%= config.author %&gt;&lt;/a&gt;</div><div class="line">        &lt;% &#125;else&#123; %&gt;</div><div class="line">        &lt;a href="&lt;%= config.root %&gt;about" title="&lt;%= config.author %&gt;" target="_blank" itemprop="author"&gt;&lt;%= config.author %&gt;&lt;/a&gt;</div><div class="line">        &lt;% &#125; %&gt;</div><div class="line">&lt;/div&gt;</div><div class="line">&lt;div class="article-categories"&gt;</div><div class="line">  &lt;span&gt;&lt;/span&gt;</div><div class="line">  &lt;%- list_categories(item.categories, &#123;</div><div class="line">      show_count: false,</div><div class="line">      class: 'article-category',</div><div class="line">      style: 'none',</div><div class="line">      separator: '►'</div><div class="line">  &#125;) %&gt;</div><div class="line">&lt;/div&gt;</div><div class="line">&lt;% &#125; %&gt;</div><div class="line">&lt;% if (item.tags &amp;&amp; item.tags.length)&#123; %&gt;</div><div class="line">  &lt;div class="article-tags"&gt;</div><div class="line">  &lt;% var tags = [];</div><div class="line">    item.tags.forEach(function(tag)&#123;</div><div class="line">      tags.push('&lt;a href="' + config.root + tag.path + '"&gt;' + tag.name + '&lt;/a&gt;');</div><div class="line">    &#125;); %&gt;</div><div class="line">  &lt;span&gt;&lt;/span&gt; &lt;%- tags.join('') %&gt;</div><div class="line">  &lt;/div&gt;</div><div class="line">&lt;% &#125; %&gt;</div><div class="line">&lt;/div&gt;</div></pre></td></tr></table></figure></p>
<p>footer-index.ejs 内容:<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">footer</span> <span class="attr">class</span>=<span class="string">"article-footer clearfix"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">%-</span> <span class="attr">partial</span>('<span class="attr">catetags-index</span>') %&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> (!<span class="attr">index</span>)&#123; %&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"article-share"</span> <span class="attr">id</span>=<span class="string">"share"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span>(<span class="attr">theme.jiathis.enable</span>)&#123; %&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"share-jiathis"</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">%-</span> <span class="attr">partial</span>('<span class="attr">jiathis</span>') %&gt;</span></div><div class="line">     <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">%</span> &#125; <span class="attr">else</span> &#123; %&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">data-url</span>=<span class="string">"&lt;%- item.permalink %&gt;"</span> <span class="attr">data-title</span>=<span class="string">"&lt;% if (item.title)&#123; %&gt;&lt;%= item.title %&gt; | &lt;% &#125; %&gt;&lt;%= config.title %&gt;"</span> <span class="attr">data-tsina</span>=<span class="string">"&lt;%= theme.author.tsina %&gt;"</span> <span class="attr">class</span>=<span class="string">"share clearfix"</span>&gt;</span></div><div class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> (<span class="attr">index</span>)&#123; %&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"comments-count"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span>((<span class="attr">config.disqus_shortname</span> || <span class="attr">theme.disqus_shortname</span>) &amp;&amp; !<span class="attr">theme.duoshuo_shortname</span>) &#123; %&gt;</span></div><div class="line">          <span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"&lt;%- config.root %&gt;&lt;%- item.path %&gt;#disqus_thread"</span> <span class="attr">class</span>=<span class="string">"comments-count-link"</span>&gt;</span>Comments<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">%</span> &#125; <span class="attr">else</span> <span class="attr">if</span>(<span class="attr">theme.duoshuo_shortname</span>) &#123; %&gt;</span></div><div class="line">          <span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"&lt;%- config.root %&gt;&lt;%- item.path %&gt;#comments"</span> <span class="attr">class</span>=<span class="string">"ds-thread-count comments-count-link"</span> <span class="attr">data-thread-key</span>=<span class="string">"&lt;%- item.path %&gt;"</span> <span class="attr">data-count-type</span>=<span class="string">"comments"</span>&gt;</span>&amp;nbsp;<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">footer</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>header-index.ejs 内容:<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">header</span> <span class="attr">class</span>=<span class="string">"article-info clearfix"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">h1</span> <span class="attr">itemprop</span>=<span class="string">"name"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span>(<span class="attr">item.link</span>) &#123; %&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"&lt;%- item.link %&gt;"</span> <span class="attr">target</span>=<span class="string">"_blank"</span> <span class="attr">title</span>=<span class="string">"&lt;%= item.title %&gt;"</span>&gt;</span><span class="tag">&lt;<span class="name">%=</span> <span class="attr">item.title</span> %&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">%</span> &#125; <span class="attr">else</span> &#123; %&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"&lt;%- config.root %&gt;&lt;%- item.path %&gt;"</span> <span class="attr">title</span>=<span class="string">"&lt;%= item.title %&gt;"</span> <span class="attr">itemprop</span>=<span class="string">"url"</span>&gt;</span><span class="tag">&lt;<span class="name">%=</span> <span class="attr">item.title</span> %&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">header</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>调整对应的样式：<br>具体:<br>    1.\jacman\source\css_partial\index.styl<br>    2.\jacman\source\css_partial\footer.styl<br>    3.\jacman\source\css_partial\article.styl<br>    4.\jacman\source\css_partial\helper.styl<br>我主要调整了以上四个文件中的样式，具体各位自己找着改吧。太多了，我也是通过firefox的firebug工具慢慢找得。</p>
<p>3.文章列表分页条数限制（含首页文章列表页，分类列表页，标签列表页）修改hexo(F:\Blog\hexo_config.yml)主配置文件_config.yml中的：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># Others</span></div><div class="line">index_generator:</div><div class="line">  per_page: 5 <span class="comment">##首页默认10篇文章标题 如果值为0不分页</span></div><div class="line">archive_generator:</div><div class="line">    per_page: 0 <span class="comment">##归档页面默认10篇文章标题</span></div><div class="line">    yearly: <span class="literal">true</span>  <span class="comment">##生成年视图</span></div><div class="line">    monthly: <span class="literal">true</span> <span class="comment">##生成月视图</span></div><div class="line">tag_generator:</div><div class="line">    per_page: 0 <span class="comment">##标签分类页面默认10篇文章</span></div><div class="line">category_generator: </div><div class="line">    per_page: 0 <span class="comment">###分类页面默认10篇文章</span></div><div class="line">feed:</div><div class="line">    <span class="built_in">type</span>: atom <span class="comment">##feed类型 atom或者rss2</span></div><div class="line">    path: atom.xml <span class="comment">##feed路径</span></div><div class="line">    <span class="built_in">limit</span>: 20  <span class="comment">##feed文章最小数量</span></div></pre></td></tr></table></figure></p>
<h5 id="首页内容侧边栏优化"><a href="#首页内容侧边栏优化" class="headerlink" title="首页内容侧边栏优化"></a>首页内容侧边栏优化</h5><p>侧边栏顺序配置：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#### Widgets  首页侧边栏</span></div><div class="line">widgets: </div><div class="line">- github-card</div><div class="line">- category</div><div class="line">- tag</div><div class="line">- hot</div><div class="line">- tagcloud</div><div class="line">- links</div><div class="line"><span class="comment">#- douban</span></div><div class="line">- weibo</div><div class="line">- rss</div><div class="line">  <span class="comment">## provide eight widgets:github-card,category,tag,rss,archive,tagcloud,links,weibo</span></div></pre></td></tr></table></figure></p>
<p>1.github名片，友情链接,RSS订阅，在<a href="http://www.troylc.cc/hexo/2016/05/31/Hexo-1.html#%E5%AE%89%E8%A3%85Hexo%E6%8F%92%E4%BB%B6">Hexo教程(一)-hexo环境搭建</a>中的安装插件时，安装RSS插件. 在jacman(F:\Blog\hexo\themes\jacman)主题目录下的配置文件_config.yml,找到以下配置,并修改如下：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">author:</div><div class="line">  intro_line1:  <span class="string">"Hello ,I'm troylc Page in github."</span>    <span class="comment">## your introduction on the bottom of the page</span></div><div class="line">  intro_line2:  <span class="string">"This is my blog,believe it or not."</span>  <span class="comment">## the 2nd line</span></div><div class="line">  ...</div><div class="line">  github: xxxx     <span class="comment">## e.g. 配置你对应的github用户名</span></div><div class="line">  ...</div><div class="line"><span class="comment">##----------------------------------------------------------------------------</span></div><div class="line"><span class="comment">#### RSS  RSS订阅 </span></div><div class="line">rss: /atom.xml <span class="comment">## RSS address.</span></div><div class="line"><span class="comment">##----------------------------------------------------------------------------</span></div><div class="line"><span class="comment">#### Links</span></div><div class="line">links:</div><div class="line">  攻城狮: http://www.troylc.cc/, 一个面向程序员交流分享的博客</div><div class="line">  troylc<span class="string">'s Blog: http://www.troylc.cc/</span></div></pre></td></tr></table></figure></p>
<p>2.分类，标签，标签云，这几个只有在创建文章中写上分类和标签，就会在此处自动显示分类，标签，标签云，以分类和标签的文章个数。</p>
<p>3.热评文章、我的微博<br><strong>热评文章：</strong><br>由于hexo没有内置诸如“热评文章”，“最新评论”等的widget，那么只能自定义widget,仿照其他的widget，在themes的_config.yml文件中的widgets下添加自定义widget的名称，如上面我添加了一个hot，然后在F:\Blog\hexo\themes\jacman\layout_widget目录下新建一个hot.ejs，在<a href="http://duoshuo.com/" title="多说网站" target="_blank" rel="external">多说</a>(如果没有多说账号就注册一个，后续文章页的文章评论也会用到)-&gt;后台管理-&gt;工具-&gt;热评文章中获取代码，写到hot.ejs文件中，然后在其上面写上名字“热评文章”，如下：<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></div><div class="line"><span class="comment">&lt;!-- 国际化文件(F:\Blog\hexo\themes\jacman\languages\zh-CN.yml)定义hot --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"asidetitle"</span>&gt;</span><span class="tag">&lt;<span class="name">%=</span> <span class="attr">__</span>('<span class="attr">hot</span>') %&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="comment">&lt;!-- 多说热评文章 start --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"ds-top-threads"</span> <span class="attr">data-range</span>=<span class="string">"daily"</span> <span class="attr">data-num-items</span>=<span class="string">"5"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="comment">&lt;!-- 多说热评文章 end --&gt;</span></div><div class="line"><span class="comment">&lt;!-- 多说公共JS代码 start (一个网页只需插入一次) --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="javascript"></span></div><div class="line"><span class="keyword">var</span> duoshuoQuery = &#123;<span class="attr">short_name</span>:<span class="string">"troylc"</span>&#125;;</div><div class="line">	(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">		<span class="keyword">var</span> ds = <span class="built_in">document</span>.createElement(<span class="string">'script'</span>);</div><div class="line">		ds.type = <span class="string">'text/javascript'</span>;ds.async = <span class="literal">true</span>;</div><div class="line">		ds.src = (<span class="built_in">document</span>.location.protocol == <span class="string">'https:'</span> ? <span class="string">'https:'</span> : <span class="string">'http:'</span>) + <span class="string">'//static.duoshuo.com/embed.js'</span>;</div><div class="line">		ds.charset = <span class="string">'UTF-8'</span>;</div><div class="line">		(<span class="built_in">document</span>.getElementsByTagName(<span class="string">'head'</span>)[<span class="number">0</span>] </div><div class="line">		 || <span class="built_in">document</span>.getElementsByTagName(<span class="string">'body'</span>)[<span class="number">0</span>]).appendChild(ds);</div><div class="line">	&#125;)();</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="comment">&lt;!-- 多说公共JS代码 end --&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p><strong>我的微博-微博秀</strong><br>需要注意的是，如果要启用微博秀，您必须填上author属性下tsina和weibo_verifier的值，前者是您微博ID，后者是您微博秀的验证码，登录新浪微博后，访问 <a href="http://app.weibo.com/tool/weiboshow" title="微博秀" target="_blank" rel="external">http://app.weibo.com/tool/weiboshow</a> 在如下图位置，可以获得您的 verifier，如：我的是0f3h06c8。<br><img src="/images/hexo-5/index-context-2.png" alt="内容侧边栏-微博秀"><br>在jacman(F:\Blog\hexo\themes\jacman)主题目录下的配置文件_config.yml,找到以下配置,并修改如下：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">author:</div><div class="line">  ...</div><div class="line">  weibo_verifier: 0f3h06c8    <span class="comment">## e.g. 0f81d6c8 Your weibo-show widget verifier ,if you use weibo-show it is needed.</span></div><div class="line">  tsina: 2705522637      <span class="comment">## e.g. 2705522637  Your weibo ID,It will be used in share button.</span></div><div class="line">  weibo: 2705522637     <span class="comment">## e.g. troylc or 2705522637 for http://weibo.com/2705522637</span></div><div class="line">  ...</div></pre></td></tr></table></figure></p>
<p>第一次不知道是什么原因，要么无法显示，要么显示出现问题，耐心的多刷新，或者等待几天再去刷新。</p>
<h4 id="首页footer优化"><a href="#首页footer优化" class="headerlink" title="首页footer优化"></a>首页footer优化</h4><p><img src="/images/hexo-5/footer.png" alt="尾部footer"><br>1.修改网站的主页的头和尾的英文字体：\hexo\themes\jacman\source\css_base\variable.styl中的font-custom-family = “covered_by_your_graceregular”修改为inherit如下:<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">//Font</div><div class="line">font-default = "Helvetica Neue", "Helvetica","Microsoft YaHei", "WenQuanYi Micro Hei",Arial, sans-serif</div><div class="line">font-serif = "Georgia", serif</div><div class="line">font-mono = Monaco, Menlo, Consolas, Courier New, monospace</div><div class="line">font-custom-family = inherit  //英文字体inherit</div><div class="line">font-custom-filename = coveredbyyourgrace-webfont</div><div class="line">font-icon-family = "FontAwesome"</div><div class="line">font-icon-filename = fontawesome-webfont</div><div class="line">font-icon-version = "4.0.3"</div><div class="line">font-icon-diao = "fontdiao"</div><div class="line">font-icon-diao-filename = "fontdiao"</div><div class="line">font-icon-diao-version = "0.0.8"</div><div class="line">ShowCustomFont = hexo-config("ShowCustomFont")</div><div class="line">font-size = 100%</div><div class="line">line-height = 1.5</div><div class="line">//image</div><div class="line">author-img = hexo-config("author_img")</div></pre></td></tr></table></figure></p>
<p>2.尾部的作者图片，在上面头部优化中，有提到，在jacman(F:\Blog\hexo\themes\jacman)主题目录下的配置文件_config.yml,找到以下配置,指定author_img的图片位置，或者把原本对应位置下的图片名称不变，直接换成自己喜欢的图片<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#### Image</span></div><div class="line">imglogo:</div><div class="line">  <span class="built_in">enable</span>: <span class="literal">true</span>             <span class="comment">## display image logo true/false. 是否显示logo</span></div><div class="line">  src: img/logo.png        <span class="comment">## `.svg` and `.png` are recommended,please put image into the theme folder `/jacman/source/img`.</span></div><div class="line">favicon: img/favicon.ico   <span class="comment">## size:32px*32px,`.ico` is recommended,please put image into the theme folder `/jacman/source/img`.     </span></div><div class="line">apple_icon: img/jacman.jpg <span class="comment">## size:114px*114px,please put image into the theme folder `/jacman/source/img`.</span></div><div class="line">author_img: img/author.jpg <span class="comment">## size:220px*220px.display author avatar picture.if don't want to display,please don't set this.</span></div><div class="line">banner_img: <span class="comment">#img/banner.jpg ## size:1920px*200px+. Banner Picture</span></div><div class="line"><span class="comment">### Theme Color </span></div><div class="line">theme_color:          <span class="comment">##主题颜色</span></div><div class="line">    theme: <span class="string">'#2ca6cb'</span>    <span class="comment">##the defaut theme color is blue</span></div></pre></td></tr></table></figure></p>
<p>3.添加网站的总pv计数和总uv计数<br>在F:\Blog\hexo\themes\jacman\layout_partial\footer.ejs中最后面添加脚本和总pv计数和总uv计数：<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">async</span> <span class="attr">src</span>=<span class="string">"https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"busuanzi_container_site_pv"</span>&gt;</span></div><div class="line">      Total visits: <span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"busuanzi_value_site_pv"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"busuanzi_container_site_uv"</span>&gt;</span></div><div class="line">    You are Visiter No.<span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"busuanzi_value_site_uv"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">span</span>&gt;</span></div></pre></td></tr></table></figure></p>
<h3 id="参考："><a href="#参考：" class="headerlink" title="参考："></a>参考：</h3><p><a href="http://wuchong.me/blog/2014/11/20/how-to-use-jacman/" title="如何使用 Jacman 主题 " target="_blank" rel="external">如何使用 Jacman 主题</a><br><a href="http://www.tuicool.com/articles/FRrQvi3" title="Hexo博客Jacman主题的一些优化" target="_blank" rel="external">Hexo博客Jacman主题的一些优化</a></p>
<hr>
</div><script type="text/javascript" src="/js/share.js?v=0.0.0" async></script><a data-url="http://www.troylc.cc/hexo/2016/06/27/Hexo-5.html" data-id="cj059w6od0015lsqyfdr0v24l" class="article-share-link">分享到</a><div class="tags"><a href="/tags/hexo/">hexo</a><a href="/tags/hexo优化/">hexo优化</a><a href="/tags/jacman/">jacman</a></div><div class="post-nav"><a href="/hexo/2016/06/28/Hexo-6.html" class="pre">Hexo教程(六)-hexo-jacman主题文章页优化</a><a href="/hexo/2016/06/16/Hexo-4.html" class="next">Hexo教程(四)-hexo博客被搜索引擎收录</a></div><div data-thread-key="hexo/2016/06/27/Hexo-5.html" data-title="Hexo教程(五)-hexo-jacman主题首页优化" data-url="http://www.troylc.cc/hexo/2016/06/27/Hexo-5.html" class="ds-share flat"><div class="ds-share-inline"><ul class="ds-share-icons-16"><li data-toggle="ds-share-icons-more"><a href="javascript:void(0);" class="ds-more">分享到：</a></li><li><a href="javascript:void(0);" data-service="weibo" class="ds-weibo">微博</a></li><li><a href="javascript:void(0);" data-service="qzone" class="ds-qzone">QQ空间</a></li><li><a href="javascript:void(0);" data-service="qqt" class="ds-qqt">腾讯微博</a></li><li><a href="javascript:void(0);" data-service="wechat" class="ds-wechat">微信</a></li></ul><div class="ds-share-icons-more"></div></div></div><div data-thread-key="hexo/2016/06/27/Hexo-5.html" data-title="Hexo教程(五)-hexo-jacman主题首页优化" data-url="http://www.troylc.cc/hexo/2016/06/27/Hexo-5.html" data-author-key="1" class="ds-thread"></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><div class="search-form"><input id="local-search-input" placeholder="Search" type="text" name="q" results="0"/><div id="local-search-result"></div></div></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/docker/">docker</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/docker-compose/">docker-compose</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/hexo/">hexo</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/java/">java</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux/">linux</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/spring-cloud/">spring cloud</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/experience/">心得</a><span class="category-list-count">1</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/hexo优化/" style="font-size: 15px;">hexo优化</a> <a href="/tags/linux/" style="font-size: 15px;">linux</a> <a href="/tags/jenkins/" style="font-size: 15px;">jenkins</a> <a href="/tags/registry/" style="font-size: 15px;">registry</a> <a href="/tags/swarm/" style="font-size: 15px;">swarm</a> <a href="/tags/docker-compose/" style="font-size: 15px;">docker-compose</a> <a href="/tags/hexo/" style="font-size: 15px;">hexo</a> <a href="/tags/心得/" style="font-size: 15px;">心得</a> <a href="/tags/docker/" style="font-size: 15px;">docker</a> <a href="/tags/jacman/" style="font-size: 15px;">jacman</a> <a href="/tags/mysql/" style="font-size: 15px;">mysql</a> <a href="/tags/java/" style="font-size: 15px;">java</a> <a href="/tags/Thread/" style="font-size: 15px;">Thread</a> <a href="/tags/shell/" style="font-size: 15px;">shell</a> <a href="/tags/spring-boot/" style="font-size: 15px;">spring-boot</a> <a href="/tags/spring-cloud/" style="font-size: 15px;">spring cloud</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/spring-cloud/2017/04/16/spirng-cloud-config.html">SpringCloud构微服务之-配置中配置中心(六)</a></li><li class="post-list-item"><a class="post-list-link" href="/spring-cloud/2017/04/13/spirng-cloud-sidecar.html">SpringCloud构建异构平台的微服务之-sidecar(五)</a></li><li class="post-list-item"><a class="post-list-link" href="/spring-cloud/2017/03/19/spirng-cloud-apigateway.html">SpringCloud和docker之微服务-apigateway(四)</a></li><li class="post-list-item"><a class="post-list-link" href="/spring-cloud/2017/03/11/spirng-cloud-productservice.html">SpringCloud和docker之微服务-consumer(三)</a></li><li class="post-list-item"><a class="post-list-link" href="/spring-cloud/2017/03/09/spirng-cloud-userservice.html">SpringCloud和docker之微服务-provider(二)</a></li><li class="post-list-item"><a class="post-list-link" href="/spring-cloud/2017/03/01/spirng-cloud-eureka.html">SpringCloud和docker之微服务-eureka(一)</a></li><li class="post-list-item"><a class="post-list-link" href="/docker-compose/2017/02/25/Docker08docker-compose01.html">docker-compose部署swarm服务(docker1.13.1)</a></li><li class="post-list-item"><a class="post-list-link" href="/docker/2017/02/19/Docker07docker-swarm02.html">docker1.12.3 docker-swarm集群服务部署与维护（二）</a></li><li class="post-list-item"><a class="post-list-link" href="/java/2017/02/15/java01-thread-tools.html">java中并发工具包-同步器（一）</a></li><li class="post-list-item"><a class="post-list-link" href="/docker/2017/02/07/Docker07docker-swarm01.html">docker1.12.3 docker-swarm创建与管理集群（一）</a></li></ul></div><div class="widget"><div class="comments-title"><i class="fa fa-comment-o"> 最近评论</i></div><div data-num-items="5" data-show-avatars="0" data-show-time="1" data-show-admin="0" data-excerpt-length="32" data-show-title="1" class="ds-recent-comments"></div></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="https://www.haomwei.com" title="屠夫9441的博客" target="_blank">屠夫9441的博客</a><ul></ul><a href="http://www.troylc.cc/" title="troylc博客" target="_blank">troylc博客</a></div><div class="widget"><div class="widget-title"><i class="fa fa-bar-chart"> 网站访问量</i></div><ul> </ul><a href="http://s05.flagcounter.com/more/IVe"><img src="http://s05.flagcounter.com/countxl/IVe/bg_FFFFFF/txt_000000/border_CCCCCC/columns_2/maxflags_12/viewers_0/labels_0/pageviews_0/flags_0/percent_0/" alt="" border="0" /></a></div><div class="widget"><div class="widget-title"><i class="fa fa-weibo"> 我的微博</i></div><ul> </ul><iframe width="100%" height="120 class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=199&fansRow=2&ptype=1&speed=0&skin=1&isTitle=1&noborder=1&isWeibo=0&isFans=0&uid=2705524937&verifier=0f81d6c8&dpc=1"></iframe></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">© <a href="/." rel="nofollow">troyCoder.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="/css/jquery.fancybox.css?v=0.0.0"><script>var duoshuoQuery = {short_name:'troylc'};
(function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0]
        || document.getElementsByTagName('body')[0]).appendChild(ds);
})();
</script><script type="text/javascript" src="/js/search.js?v=0.0.0"></script><script>var search_path = 'search.xml';
if (search_path.length == 0) {
   search_path = 'search.xml';
}
var path = '/' + search_path;
searchFunc(path, 'local-search-input', 'local-search-result');
</script><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?b991924b21cd080f0a0e761ff1a69288";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
  })();
</script><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>